<!DOCTYPE html>
<html lang="en">
<head>

  <script src="https://unpkg.com/pdf-lib/dist/pdf-lib.min.js"></script>

  <meta charset="UTF-8">
  <title>10X Consent Form</title>
  <style>
    @page {
      size: A4;
      margin: 20mm;
    }

    body {
      font-family: Arial, sans-serif;
      background: #f8f8f8;
      padding: 0;
      margin: 0;
      display: flex;
      justify-content: center;
    }

    .a4-container {
      background: white;
      width: 210mm;
      min-height: 297mm;
      padding: 20mm 25mm;
      box-sizing: border-box;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
      color: #333;
    }

    .header {
      text-align: center;
      margin-bottom: 30px;
    }

    .logo-bar {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin-bottom: 15px;
    }

    .logo-bar img {
      max-height: 60px;
      max-width: 150px;
      object-fit: contain;
    }

    h1 {
      font-size: 20px;
      text-transform: uppercase;
      margin-bottom: 5px;
    }

    h2 {
      font-size: 18px;
      margin-top: 20px;
      border-bottom: 1px solid #ccc;
      padding-bottom: 4px;
    }

    h4 {
      margin-top: 20px;
      font-size: 16px;
    }

    .section {
      margin-bottom: 16px;
    }

    .checkbox-list {
      list-style: none;
      padding-left: 0;
    }

    .checkbox-list li {
      margin: 6px 0;
    }

    .declaration {
      margin-top: 25px;
      line-height: 1.6;
    }

    .signature-block {
      margin-top: 30px;
    }

    .signature-line {
      margin-top: 20px;
      display: flex;
      justify-content: space-between;
      gap: 20px;
    }

    .signature-line div {
      width: 45%;
    }

    .page-break {
      page-break-before: always;
      margin-top: 40px;
    }

    input[type="text"] {
      border: none;
      border-bottom: 1px solid #000;
      margin-left: 8px;
    }

    @media print {
      body {
        background: white;
      }
      .a4-container {
        box-shadow: none;
      }
    }
  </style>
</head>
<body>

  <div class="a4-container">
    <div class="header">
      <div class="logo-bar">
       
          <img src="assets/logos/outbox_logo.svg" alt="Right Logo" class="logo" />
          <img src="assets/logos/uncdf_logo.png" alt="Left Logo" class="logo" />
          <img src="assets/logos/foundation_logo.png" alt="Right Logo" class="logo" />
      </div>
      <h1>10X: Enabling Growth of MSMEs Through the Digital Economy</h1> <h3>V2</h3>
      <h2>Consent to Collection, Processing and Transfer of Personal Data</h2>
    </div>

    <div class="section">
      <p>
      Outbox (U) Limited (“we,” or “us”) is committed to improving its programs and ensuring that they have a positive impact on program participants. To achieve this, we collect and analyse or avail for analysis data about program participants. At the same time, we value your privacy and we are committed to protecting your personal information. This consent form explains how we collect, use, store, process and share your personal information as part of “10X: Enabling growth of MSMEs through the digital economy” program (the ‘Program’). 
      Please read this form carefully and sign to indicate your consent to us to handle your personal information as indicated below.
      </p>
    </div>

    <div class="section">
      <h4>Program Name:</h4>
      <p>10X: Enabling growth of MSMEs through the digital economy</p>

      <h4>Data Collector:</h4>
      <p>Outbox (U) Limited, Kalooli Lwanga Tower, Plot 83 & 85, Ntinda Road Kampala, Uganda</p>
    </div>

    <div class="section">
      <h4>1. The Purpose of Collection and Processing</h4>
      <p>
        We collect your personal data to make analysis on the progress of the Program and improve the Program...
      </p>
    </div>

    <div class="section">
      <h4>2. What Data Do We Collect?</h4>
      <p>Please tick what applies:</p>
      <ul class="checkbox-list">
        <li><label><input type="checkbox"> Name, age (date of birth), and gender</label></li>
        <li><label><input type="checkbox"> Contact details (phone number, email address, etc.)</label></li>
        <li><label><input type="checkbox"> National ID / Passport / Refugee ID / Driver’s licence</label></li>
        <li><label><input type="checkbox"> Employment history and level of education</label></li>
        <li><label><input type="checkbox"> Participation details in the Program</label></li>
        <li><label><input type="checkbox"> Marital status</label></li>
        <li><label><input type="checkbox"> Refugee or displaced person status</label></li>
        <li><label><input type="checkbox"> Presence of a disability</label></li>
        <li><label><input type="checkbox"> Feedback and survey responses</label></li>
        <li><label><input type="checkbox"> Financial information (TIN, bank details, etc.)</label></li>
        <li><label><input type="checkbox"> Other (specify): <input type="text" /></label></li>
      </ul>
    </div>

    <div class="section">
      <h4>3. Legal Basis for Collection and Processing</h4>
      <p>We collect and process your personal data within the framework of the applicable legislation...</p>
    </div>

    <div class="page-break"></div>

<div class="section" style="padding: 20px 40px; font-family: Arial, sans-serif;">
  <h4 style="margin-bottom: 10px; font-size: 18px; color: #333;">4. Who Will Your Data Be Shared With?</h4>
  <p style="font-size: 14px; line-height: 1.5; color: #333;">
    We may share your data with the following parties, for the purposes indicated:
  </p>

  <table style="width: 100%; border-collapse: collapse; font-size: 13px; margin-top: 10px; border: 1px solid #ccc;">
    <thead style="background-color: #f5f5f5;">
      <tr>
        <th style="border: 1px solid #ccc; padding: 10px; text-align: left;">No.</th>
        <th style="border: 1px solid #ccc; padding: 10px; text-align: left;">Name of Organisation</th>
        <th style="border: 1px solid #ccc; padding: 10px; text-align: left;">Address and Contact Details</th>
        <th style="border: 1px solid #ccc; padding: 10px; text-align: left;">Purpose of Disclosure</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style="border: 1px solid #ccc; padding: 10px;">1</td>
        <td style="border: 1px solid #ccc; padding: 10px;">Mastercard Foundation</td>
        <td style="border: 1px solid #ccc; padding: 10px;">Mastercard Foundation Office (Twed Heights - Muwafu Road), Kampala</td>
        <td style="border: 1px solid #ccc; padding: 10px;">Monitor compliance with Program requirements by partner organisations</td>
      </tr>
      <tr style="background-color: #fafafa;">
        <td style="border: 1px solid #ccc; padding: 10px;">2</td>
        <td style="border: 1px solid #ccc; padding: 10px;">Vanguard Research and Advisory Services Limited</td>
        <td style="border: 1px solid #ccc; padding: 10px;">Ssuuna II Road, Ntinda, Kampala</td>
        <td style="border: 1px solid #ccc; padding: 10px;">Undertake Program impact monitoring and evaluation works</td>
      </tr>
      <tr>
        <td style="border: 1px solid #ccc; padding: 10px;">3</td>
        <td style="border: 1px solid #ccc; padding: 10px;">Deloitte Canada</td>
        <td style="border: 1px solid #ccc; padding: 10px;">Toronto, Canada</td>
        <td style="border: 1px solid #ccc; padding: 10px;">Ingest, store and process the data at the direction of the Foundation</td>
      </tr>
      <tr style="background-color: #fafafa;">
        <td style="border: 1px solid #ccc; padding: 10px;">4</td>
        <td style="border: 1px solid #ccc; padding: 10px;">Deloitte Uganda Limited or any of its affiliates</td>
        <td style="border: 1px solid #ccc; padding: 10px;">Rwenzori House, Lumumba Avenue, Nakasero, Kampala</td>
        <td style="border: 1px solid #ccc; padding: 10px;">Due diligence, payments administration, KYC compliance, training and mentorship</td>
      </tr>
      <tr>
        <td style="border: 1px solid #ccc; padding: 10px;">5</td>
        <td style="border: 1px solid #ccc; padding: 10px;">Our professional advisors</td>
        <td style="border: 1px solid #ccc; padding: 10px;">Varied, depending on the institution</td>
        <td style="border: 1px solid #ccc; padding: 10px;">Seeking legal, audit and other advice in relation to the Program</td>
      </tr>
      <tr style="background-color: #fafafa;">
        <td style="border: 1px solid #ccc; padding: 10px;">6</td>
        <td style="border: 1px solid #ccc; padding: 10px;">Government authorities</td>
        <td style="border: 1px solid #ccc; padding: 10px;">Varied, depending on requesting institution</td>
        <td style="border: 1px solid #ccc; padding: 10px;">Compliance with legal requirements and obligations</td>
      </tr>
      <tr>
        <td style="border: 1px solid #ccc; padding: 10px;">7</td>
        <td style="border: 1px solid #ccc; padding: 10px;">Other (please specify)</td>
        <td style="border: 1px solid #ccc; padding: 10px;"></td>
        <td style="border: 1px solid #ccc; padding: 10px;"></td>
      </tr>
    </tbody>
  </table>
</div>


<div class="section" style="padding: 20px 40px; font-family: Arial, sans-serif;">
  <h4 style="font-size: 18px; color: #333;">5. Your Rights</h4>
  <p style="font-size: 14px; line-height: 1.6; color: #333;">
    You are under no obligation to give your consent. You are eligible to participate in all aspects of the Program, regardless of your decision to share your data. Consent to data sharing is entirely separate from Program participation. You have the following rights regarding your personal data:
  </p>
  <ul style="padding-left: 20px; font-size: 14px; line-height: 1.6; color: #333;">
    <li><strong>(a) Right of access:</strong> You have the right to request a copy of the information we hold about you.</li>
    <li><strong>(b) Right to rectification:</strong> You have the right to ask us to correct any inaccurate information we hold about you.</li>
    <li><strong>(c) Right to erasure:</strong> You have the right to ask us to delete your information.</li>
    <li><strong>(d) Right to restriction of processing:</strong> You have the right to ask us to restrict the processing of your information.</li>
    <li><strong>(e) Right to object to processing:</strong> You have the right to object to the processing of your information.</li>
    <li><strong>(f) Right to data portability:</strong> You have the right to request that your data be transferred to another organisation.</li>
    <li><strong>(g) Right to withdraw consent:</strong> You have the right to withdraw your consent to share your data at any time. This will not affect your ability to participate in or continue participating in the Program. Should you wish to withdraw your consent, please send an email to <a href="mailto:zulu@outbox.africa" style="color: #0056b3;">zulu@outbox.africa</a> or call <strong>+256 (0) 392 000 152</strong>.</li>
  </ul>
</div>

<div class="section declaration" style="padding: 20px 40px; font-family: Arial, sans-serif;">
  <h4 style="font-size: 18px; color: #333; margin-bottom: 10px;">6. Your Declarations</h4>
  <p style="font-size: 14px; line-height: 1.6; color: #333;">
    This consent is given of my own free will, with full understanding of the purpose of data collection, use, processing and transfer and acknowledgement of my rights relating to my personal data.
  </p>
  <ol style="font-size: 14px; line-height: 1.6; color: #333; padding-left: 20px;">
    <li>
      I recognise that the data collector may require additional information from me which, even if not stipulated above, is deemed relevant for the purposes stated herein.
    </li>
    <li>
      I recognise that no compensation will be due to me in the event I consent to the collection, use, processing, disclosure and or transfer of my personal data.
    </li>
    <li>
      I acknowledge that I have been informed of, and have fully understood the reasons why the data collector is required to disclose my personal data to Mastercard Foundation and the third parties indicated herein, as well as the legal basis for doing so.
    </li>
    <li>
      If you have any questions or wish to exercise your rights, please contact us using any of the contact details provided above.
    </li>
  </ol>
</div>


<div class="signature-block" style="padding: 40px 20px; font-family: Arial, sans-serif; font-size: 14px; color: #333; max-width: 800px; margin: auto;">

  <!-- Participant Section -->
  <div style="margin-bottom: 50px;">
    <h4 style="margin-bottom: 20px; border-bottom: 1px solid #ccc; padding-bottom: 6px;">Participant Details</h4>

    <label for="participantName" style="display: block; margin: 10px 0 4px;">Full Name</label>
    <input type="text" id="participantName" name="participantName" placeholder="Enter full name"
           style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;">

    <label style="display: block; margin: 20px 0 5px;">Signature</label>
    <canvas id="participantSignature" width="450" height="100"
            style="border: 1px dashed #aaa; border-radius: 4px; background-color: #fff;"></canvas>
    <button type="button" onclick="clearSignature('participantSignature')"
            style="margin-top: 8px; padding: 6px 12px; background-color: #999; color: #fff; border: none; border-radius: 4px;">Clear Signature</button>

    <label for="participantDate" style="display: block; margin: 20px 0 4px;">Date</label>
    <input type="date" id="participantDate" name="participantDate"
           style="padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
  </div>

  <!-- Witness Section -->
  <div>
    <h4 style="margin-bottom: 20px; border-bottom: 1px solid #ccc; padding-bottom: 6px;">Witness Details</h4>

    <label for="witnessName" style="display: block; margin: 10px 0 4px;">Full Name</label>
    <input type="text" id="witnessName" name="witnessName" placeholder="Enter full name"
           style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;">

    <label style="display: block; margin: 20px 0 5px;">Signature</label>
    <canvas id="witnessSignature" width="450" height="100"
            style="border: 1px dashed #aaa; border-radius: 4px; background-color: #fff;"></canvas>
    <button type="button" onclick="clearSignature('witnessSignature')"
            style="margin-top: 8px; padding: 6px 12px; background-color: #999; color: #fff; border: none; border-radius: 4px;">Clear Signature</button>

    <label for="witnessDate" style="display: block; margin: 20px 0 4px;">Date</label>
    <input type="date" id="witnessDate" name="witnessDate"
           style="padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
  </div>

  <!-- Submit Button -->



<div style="text-align: center; margin-top: 40px;">
  <button onclick="submitConsentForm()" style="background-color: #008CBA; color: white; padding: 12px 30px; font-size: 16px; border: none; border-radius: 5px; cursor: pointer;">
    Submit Consent Form
  </button>
</div>



</div>


  </div>
  
<script src="https://unpkg.com/pdf-lib/dist/pdf-lib.min.js"></script>
<script>
  async function submitConsentForm() {
    const participantName = document.getElementById('participantName').value.trim();
    const participantDate = document.getElementById('participantDate').value;
    const witnessName = document.getElementById('witnessName').value.trim();
    const witnessDate = document.getElementById('witnessDate').value;

    const participantSignature = getSignatureDataURL('participantSignature');
    const witnessSignature = getSignatureDataURL('witnessSignature');

    if (!participantName || !participantDate || !witnessName || !witnessDate) {
      alert("⚠️ Please fill in all fields and sign before submitting.");
      return;
    }

    const { PDFDocument, rgb, StandardFonts } = PDFLib;
    const pdfDoc = await PDFDocument.create();
    const page = pdfDoc.addPage([595.28, 841.89]); // A4 size

    const font = await pdfDoc.embedFont(StandardFonts.Helvetica);
    const fontSize = 12;

    // Draw text
    page.drawText(`Participant Name: ${participantName}`, { x: 50, y: 750, size: fontSize, font });
    page.drawText(`Date: ${participantDate}`, { x: 50, y: 730, size: fontSize, font });
    page.drawText(`Witness Name: ${witnessName}`, { x: 50, y: 710, size: fontSize, font });
    page.drawText(`Date: ${witnessDate}`, { x: 50, y: 690, size: fontSize, font });

    // Draw signatures
    const sig1 = await pdfDoc.embedPng(participantSignature);
    const sig2 = await pdfDoc.embedPng(witnessSignature);

    page.drawText("Participant Signature:", { x: 50, y: 660, size: fontSize, font });
    page.drawImage(sig1, { x: 50, y: 610, width: 150, height: 50 });

    page.drawText("Witness Signature:", { x: 50, y: 570, size: fontSize, font });
    page.drawImage(sig2, { x: 50, y: 520, width: 150, height: 50 });

    // Convert PDF to base64
    const pdfBytes = await pdfDoc.save();
    const base64 = btoa(String.fromCharCode(...pdfBytes));
    const filename = `Consent_Form_${participantName.replace(/\s+/g, "_")}_${Date.now()}.pdf`;

    // Upload to Google Apps Script endpoint
    try {
      const response = await fetch("YOUR_GAS_WEB_APP_URL", {
        method: "POST",
        headers: {
          "Content-Type": "application/x-www-form-urlencoded",
        },
        body: new URLSearchParams({
          fileBase64: base64,
          filename: filename,
        }),
      });

      const text = await response.text();
      console.log("✅ Upload Response:", text);
      alert("✅ Consent form uploaded successfully.");
    } catch (error) {
      console.error("❌ Upload failed:", error);
      alert("❌ Failed to upload the consent form.");
    }
  }
</script>

</body>
</html>
